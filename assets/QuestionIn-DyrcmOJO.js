import{u as k,i as w,j as y,k as d,l as Q,d as h,o as E,m as S,g as n,b as l,c as g,t as _,n as I,p as v,e as c,w as m,T as p,h as b,f as C}from"./index-Bm8MEmEJ.js";import{I as B}from"./game.dto-DJBcyaYA.js";import{_ as $}from"./PlayrixLogo.vue_vue_type_script_setup_true_lang-dkz4UcFI.js";import{_ as R}from"./Button.vue_vue_type_script_setup_true_lang-B6q1Ohcq.js";function j(){const a=k(),s=w(),e=y(()=>{var r;return(r=s.currentCategory)==null?void 0:r.questions}),o=y(()=>s.currentCategory);function t(){s.setGamePoints(),e.value&&e.value[0].timer>0?a.push({name:"result",params:{type:B.Correct}}):a.push({name:"start"})}return{getQuestion:e,getCategory:o,done:t}}function N(a){const s=k(),e=w(),o=d(),t=d(a),r=d({minutes:0,seconds:0}),f=y(()=>a*.1>t.value);Q(()=>t.value,()=>{t.value<0&&(i(),e.setBaseValues(),s.push({name:"result",params:{type:B.Timeout}}))});function x(){r.value.minutes=Math.floor(t.value/60),r.value.seconds=t.value%60,t.value-=1}function u(){o.value=setInterval(()=>{x(),t.value<0&&i()},1e3)}function i(){clearInterval(o.value)}return{startTimer:u,stopTimer:i,timerObj:r,isRedTimer:f}}const O=h({__name:"QuestionTimer",props:{timer:{type:Number,default:0}},setup(a){const s=a,{startTimer:e,stopTimer:o,timerObj:t,isRedTimer:r}=N(s.timer);return E(()=>{e()}),S(()=>{o()}),(f,x)=>n(t).minutes>0||n(t).seconds>0?(l(),g("div",{key:0,class:I(["uppercase text-[128px] font-bold w-[606px] h-[167px] rounded-angels text-center",{"bg-[#EE2866] text-[#FFFFFF]":n(r),"bg-[#6450A2] text-white":!n(r)}])},_((n(t).minutes<10?"0":"")+n(t).minutes)+":"+_((n(t).seconds<10?"0":"")+n(t).seconds),3)):v("",!0)}}),V=h({__name:"Badge",props:{category:{type:Object,default:()=>{}}},setup(a){return(s,e)=>(l(),g("div",{class:I(["w-[706px] h-[140px] rounded-ang uppercase text-white font-bold text-[64px] text-center pt-5",{"bg-[#2AC4F4]":a.category.id%2!==0,"bg-[#EE2866]":a.category.id%2===0}])},_(a.category.name),3))}}),q=(a,s)=>{const e=a.__vccOpts||a;for(const[o,t]of s)e[o]=t;return e},A=q(V,[["__scopeId","data-v-0440376d"]]),z={class:"flex flex-col items-center w-[1080px] h-[1920px] max-w-[1080px] max-h-[1920px] bg-[url('/src/assets/img/back-main.svg')]"},G={class:"text-white text-[56px] font-bold text-center mt-[100px] max-w-[958px]"},M={key:0,class:"flex flex-col items-center mt-[131px]"},D={class:"text-white text-[48px] font-bold text-center mt-[50px]"},P=h({__name:"QuestionContainer",setup(a){const s=d(""),{getQuestion:e,getCategory:o,done:t}=j(),r=d(!0),f=d(!0),x=()=>{let u=0,i=0;const F=setInterval(()=>{i++,e.value&&e.value[u]?(s.value=e.value[u].question,u=(u+1)%e.value.length):(s.value="",u=0),i===1&&(f.value=!1)},150);setTimeout(()=>{var T;clearInterval(F),s.value=e.value?(T=e.value[0])==null?void 0:T.question:"",r.value=!1},1500)};return(u,i)=>(l(),g("div",z,[c(p,{name:"bounce",appear:""},{default:m(()=>[c($)]),_:1}),c(p,{name:"bottom-fade",appear:""},{default:m(()=>[c(A,{category:n(o)},null,8,["category"])]),_:1}),c(p,{name:"bounce",appear:"",onAfterEnter:x},{default:m(()=>[C("div",G,_(s.value),1)]),_:1}),c(p,{name:"bottom-fade",appear:""},{default:m(()=>[n(e)?(l(),g("div",M,[!f.value&&n(e)[0].timer>0?(l(),b(p,{key:0,name:"bounce",appear:""},{default:m(()=>[c(O,{timer:n(e)[0].timer},null,8,["timer"])]),_:1})):v("",!0),C("div",D,_(`Выполни задание и получи ${n(o).point}`),1)])):v("",!0)]),_:1}),r.value?v("",!0):(l(),b(p,{key:0,name:"bottom-fade",appear:""},{default:m(()=>[c(R,{class:"pt-[165px]",text:"готово",onClick:n(t)},null,8,["onClick"])]),_:1}))]))}}),L=h({__name:"QuestionIn",setup(a){return(s,e)=>(l(),b(P))}});export{L as default};
