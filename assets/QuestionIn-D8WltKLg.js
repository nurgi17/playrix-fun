import{u as k,i as Q,j as y,k as p,l as B,d as g,o as E,m as $,g as r,b as i,c as v,t as f,n as w,p as x,e as c,w as l,T as m,h as b,f as C}from"./index-DDprL3ea.js";import{I}from"./game.dto-DJBcyaYA.js";import{_ as R}from"./PlayrixLogo.vue_vue_type_script_setup_true_lang-D6odnsth.js";import{_ as S}from"./Button.vue_vue_type_script_setup_true_lang-BSOOZO90.js";function j(){const t=k(),a=Q(),e=y(()=>{var o;return(o=a.currentCategory)==null?void 0:o.questions}),n=y(()=>a.currentCategory);function s(){a.setGamePoints(),e.value&&e.value[0].timer>0?t.push({name:"result",params:{type:I.Correct}}):t.push({name:"start"})}return{getQuestion:e,getCategory:n,done:s}}function N(t){const a=k(),e=p(),n=p(t),s=p({minutes:0,seconds:0}),o=y(()=>t*.1>n.value);B(()=>n.value,()=>{n.value<0&&(u(),a.push({name:"result",params:{type:I.Timeout}}))});function d(){s.value.minutes=Math.floor(n.value/60),s.value.seconds=n.value%60,n.value-=1}function _(){e.value=setInterval(()=>{d(),n.value<0&&u()},1e3)}function u(){clearInterval(e.value)}return{startTimer:_,stopTimer:u,timerObj:s,isRedTimer:o}}const O=g({__name:"QuestionTimer",props:{timer:{type:Number,default:0}},setup(t){const a=t,{startTimer:e,stopTimer:n,timerObj:s,isRedTimer:o}=N(a.timer);return E(()=>{e()}),$(()=>{n()}),(d,_)=>r(s).minutes>0||r(s).seconds>0?(i(),v("div",{key:0,class:w(["uppercase text-[128px] font-bold w-[606px] h-[167px] rounded-angels text-center",{"bg-[#EE2866] text-[#FFFFFF]":r(o),"bg-[#6450A2] text-white":!r(o)}])},f((r(s).minutes<10?"0":"")+r(s).minutes)+":"+f((r(s).seconds<10?"0":"")+r(s).seconds),3)):x("",!0)}}),q=g({__name:"Badge",props:{category:{type:Object,default:()=>{}}},setup(t){return(a,e)=>(i(),v("div",{class:w(["w-[706px] h-[140px] rounded-ang uppercase text-white font-bold text-[64px] text-center pt-5",{"bg-[#2AC4F4]":t.category.id%2!==0,"bg-[#EE2866]":t.category.id%2===0}])},f(t.category.name),3))}}),A=(t,a)=>{const e=t.__vccOpts||t;for(const[n,s]of a)e[n]=s;return e},V=A(q,[["__scopeId","data-v-0440376d"]]),z={class:"flex flex-col items-center w-[1080px] h-[1920px] max-w-[1080px] max-h-[1920px] bg-[url('/src/assets/img/back-main.svg')]"},G={class:"text-white text-[56px] font-bold text-center mt-[100px] max-w-[958px]"},M={key:0,class:"flex flex-col items-center mt-[131px]"},D={class:"text-white text-[48px] font-bold text-center mt-[50px]"},P=g({__name:"QuestionContainer",setup(t){const a=p(""),{getQuestion:e,getCategory:n,done:s}=j(),o=p(!0),d=p(!0),_=()=>{let u=0,h=0;const F=setInterval(()=>{h++,e.value&&e.value[u]?(a.value=e.value[u].question,u=(u+1)%e.value.length):(a.value="",u=0),h===1&&(d.value=!1)},150);setTimeout(()=>{var T;clearInterval(F),a.value=e.value?(T=e.value[0])==null?void 0:T.question:"",o.value=!1},1500)};return(u,h)=>(i(),v("div",z,[c(m,{name:"bounce",appear:""},{default:l(()=>[c(R)]),_:1}),c(m,{name:"bottom-fade",appear:""},{default:l(()=>[c(V,{category:r(n)},null,8,["category"])]),_:1}),c(m,{name:"bounce",appear:"",onAfterEnter:_},{default:l(()=>[C("div",G,f(a.value),1)]),_:1}),c(m,{name:"bottom-fade",appear:""},{default:l(()=>[r(e)?(i(),v("div",M,[!d.value&&r(e)[0].timer>0?(i(),b(m,{key:0,name:"bounce",appear:""},{default:l(()=>[c(O,{timer:r(e)[0].timer},null,8,["timer"])]),_:1})):x("",!0),C("div",D,f(`Выполни задание и получи ${r(n).point}`),1)])):x("",!0)]),_:1}),o.value?x("",!0):(i(),b(m,{key:0,name:"bottom-fade",appear:""},{default:l(()=>[c(S,{class:"pt-[165px]",text:"готово",onClick:r(s)},null,8,["onClick"])]),_:1}))]))}}),L=g({__name:"QuestionIn",setup(t){return(a,e)=>(i(),b(P))}});export{L as default};
