import{u as w,i as B,j as b,k as m,l as E,d as h,o as $,m as R,g as o,b as c,c as g,t as f,n as I,p as v,e as u,w as i,T as l,h as T,f as k}from"./index-LZ6InIv6.js";import{I as F}from"./game.dto-DJBcyaYA.js";import{_ as S}from"./PlayrixLogo.vue_vue_type_script_setup_true_lang-BSYUIGZt.js";import{_ as j}from"./Button.vue_vue_type_script_setup_true_lang-ChFPASh5.js";function N(){const a=w(),n=B(),s=b(()=>{var r;return(r=n.currentCategory)==null?void 0:r.questions}),e=b(()=>n.currentCategory);function t(){n.setGamePoints(),a.push({name:"result",params:{type:F.Correct}})}return{getQuestion:s,getCategory:e,done:t}}function O(a){const n=w(),s=m(),e=m(a),t=m({minutes:0,seconds:0}),r=b(()=>a*.1>e.value);E(()=>e.value,()=>{e.value<0&&(_(),n.push({name:"result",params:{type:F.Timeout}}))});function p(){t.value.minutes=Math.floor(e.value/60),t.value.seconds=e.value%60,e.value-=1}function d(){s.value=setInterval(()=>{p(),e.value<0&&_()},1e3)}function _(){clearInterval(s.value)}return{startTimer:d,stopTimer:_,timerObj:t,isRedTimer:r}}const A=h({__name:"QuestionTimer",props:{timer:{type:Number,default:0}},setup(a){const n=a,{startTimer:s,stopTimer:e,timerObj:t,isRedTimer:r}=O(n.timer);return $(()=>{s()}),R(()=>{e()}),(p,d)=>o(t).minutes>0||o(t).seconds>0?(c(),g("div",{key:0,class:I(["uppercase text-[128px] font-bold w-[606px] h-[167px] rounded-angels text-center",{"bg-[#EE2866] text-[#FFFFFF]":o(r),"bg-[#6450A2] text-white":!o(r)}])},f((o(t).minutes<10?"0":"")+o(t).minutes)+":"+f((o(t).seconds<10?"0":"")+o(t).seconds),3)):v("",!0)}}),V=h({__name:"Badge",props:{category:{type:Object,default:()=>{}}},setup(a){return(n,s)=>(c(),g("div",{class:I(["w-[706px] h-[140px] rounded-ang uppercase text-white font-bold text-[64px] text-center pt-5",{"bg-[#2AC4F4]":a.category.id%2!==0,"bg-[#EE2866]":a.category.id%2===0}])},f(a.category.name),3))}}),q=(a,n)=>{const s=a.__vccOpts||a;for(const[e,t]of n)s[e]=t;return s},z=q(V,[["__scopeId","data-v-0440376d"]]),G={class:"flex flex-col items-center w-[1080px] h-[1920px] max-w-[1080px] max-h-[1920px] bg-[url('/src/assets/img/back-main.svg')]"},M={class:"text-white text-[64px] font-bold text-center mt-[100px]"},D={key:0,class:"flex flex-col items-center mt-[131px]"},P={class:"text-white text-[48px] font-bold text-center mt-[50px]"},U=h({__name:"QuestionContainer",setup(a){const n=m(""),s=["Рандомайзер заданий","Загрузка...","Генерация задания..."],{getQuestion:e,getCategory:t,done:r}=N(),p=m(!0),d=m(!0),_=()=>{let x=0,y=0;const Q=setInterval(()=>{y++,n.value=s[x],x=(x+1)%s.length,y===1&&(d.value=!1)},400);setTimeout(()=>{var C;clearInterval(Q),n.value=e.value?(C=e.value[0])==null?void 0:C.question:"",p.value=!1},1500)};return(x,y)=>(c(),g("div",G,[u(l,{name:"bounce",appear:""},{default:i(()=>[u(S)]),_:1}),u(l,{name:"bottom-fade",appear:""},{default:i(()=>[u(z,{category:o(t)},null,8,["category"])]),_:1}),u(l,{name:"bounce",appear:"",onAfterEnter:_},{default:i(()=>[k("div",M,f(n.value),1)]),_:1}),u(l,{name:"bottom-fade",appear:""},{default:i(()=>[o(e)?(c(),g("div",D,[d.value?v("",!0):(c(),T(l,{key:0,name:"bounce",appear:""},{default:i(()=>[u(A,{timer:o(e)[0].timer},null,8,["timer"])]),_:1})),k("div",P,f(`Выполни задание и получи ${o(t).point}`),1)])):v("",!0)]),_:1}),p.value?v("",!0):(c(),T(l,{key:0,name:"bottom-fade",appear:""},{default:i(()=>[u(j,{class:"pt-[185px]",text:"готово",onClick:o(r)},null,8,["onClick"])]),_:1}))]))}}),W=h({__name:"QuestionIn",setup(a){return(n,s)=>(c(),T(U))}});export{W as default};
